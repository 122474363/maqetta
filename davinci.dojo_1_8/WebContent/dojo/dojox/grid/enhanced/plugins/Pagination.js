//>>built
require({cache:{"url:dojox/grid/enhanced/templates/Pagination.html":"<div dojoAttachPoint=\"paginatorBar\"\n\t><table cellpadding=\"0\" cellspacing=\"0\"  class=\"dojoxGridPaginator\"\n\t\t><tr\n\t\t\t><td dojoAttachPoint=\"descriptionTd\" class=\"dojoxGridDescriptionTd\"\n\t\t\t\t><div dojoAttachPoint=\"descriptionDiv\" class=\"dojoxGridDescription\"></div\n\t\t\t></div></td\n\t\t\t><td dojoAttachPoint=\"sizeSwitchTd\"></td\n\t\t\t><td dojoAttachPoint=\"pageStepperTd\" class=\"dojoxGridPaginatorFastStep\"\n\t\t\t\t><div dojoAttachPoint=\"pageStepperDiv\" class=\"dojoxGridPaginatorStep\"></div\n\t\t\t></td\n\t\t\t><td dojoAttachPoint=\"gotoPageTd\" class=\"dojoxGridPaginatorGotoTd\"\n\t\t\t\t><div dojoAttachPoint=\"gotoPageDiv\" class=\"dojoxGridPaginatorGotoDiv\" dojoAttachEvent=\"onclick:_openGotopageDialog, onkeydown:_openGotopageDialog\"\n\t\t\t\t\t><span class=\"dojoxGridWardButtonInner\">&#8869;</span\n\t\t\t\t></div\n\t\t\t></td\n\t\t></tr\n\t></table\n></div>\n"}});define("dojox/grid/enhanced/plugins/Pagination",["dojo/_base/kernel","dojo/_base/declare","dojo/_base/array","dojo/_base/connect","dojo/_base/lang","dojo/_base/html","dojo/_base/event","dojo/query","dojo/string","dojo/i18n","dojo/keys","dojo/text!../templates/Pagination.html","./Dialog","./_StoreLayer","../_Plugin","../../EnhancedGrid","dijit/form/Button","dijit/form/NumberTextBox","dijit/focus","dijit/_Widget","dijit/_TemplatedMixin","dijit/_WidgetsInTemplateMixin","dojox/html/metrics","dojo/i18n!../nls/Pagination"],function(_1,_2,_3,_4,_5,_6,_7,_8,_9,_a,_b,_c,_d,_e,_f,_10,_11,_12,_13,_14,_15,_16,_17){var _18=_2("dojox.grid.enhanced.plugins.pagination._GotoPagePane",[_14,_15,_16],{templateString:"<div>"+"<div class='dojoxGridDialogMargin' dojoAttachPoint='_mainMsgNode'></div>"+"<div class='dojoxGridDialogMargin'>"+"<input dojoType='dijit.form.NumberTextBox' style='width: 50px;' dojoAttachPoint='_pageInputBox' dojoAttachEvent='onKeyUp: _onKey'></input>"+"<label dojoAttachPoint='_pageLabelNode'></label>"+"</div>"+"<div class='dojoxGridDialogButton'>"+"<button dojoType='dijit.form.Button' dojoAttachPoint='_confirmBtn' dojoAttachEvent='onClick: _onConfirm'></button>"+"<button dojoType='dijit.form.Button' dojoAttachPoint='_cancelBtn' dojoAttachEvent='onClick: _onCancel'></button>"+"</div>"+"</div>",widgetsInTemplate:true,dlg:null,postMixInProperties:function(){this.plugin=this.dlg.plugin;},postCreate:function(){this.inherited(arguments);this._mainMsgNode.innerHTML=this.plugin._nls[12];this._confirmBtn.set("label",this.plugin._nls[14]);this._confirmBtn.set("disabled",true);this._cancelBtn.set("label",this.plugin._nls[15]);},_onConfirm:function(evt){if(this._pageInputBox.isValid()&&this._pageInputBox.getDisplayedValue()!==""){this.plugin.currentPage(this._pageInputBox.parse(this._pageInputBox.getDisplayedValue()));this.dlg._gotoPageDialog.hide();this._pageInputBox.reset();}_19(evt);},_onCancel:function(evt){this._pageInputBox.reset();this.dlg._gotoPageDialog.hide();_19(evt);},_onKey:function(evt){this._confirmBtn.set("disabled",!this._pageInputBox.isValid()||this._pageInputBox.getDisplayedValue()=="");if(!evt.altKey&&!evt.metaKey&&evt.keyCode===_b.ENTER){this._onConfirm(evt);}}});var _1a=_2("dojox.grid.enhanced.plugins.pagination._GotoPageDialog",null,{pageCount:0,dlgPane:null,constructor:function(_1b){this.plugin=_1b;this.dlgPane=new _18({"dlg":this});this.dlgPane.startup();this._gotoPageDialog=new _d({"refNode":_1b.grid.domNode,"title":this.plugin._nls[11],"content":this.dlgPane});this._gotoPageDialog.startup();},_updatePageCount:function(){this.pageCount=this.plugin.getTotalPageNum();this.dlgPane._pageInputBox.constraints={fractional:false,min:1,max:this.pageCount};this.dlgPane._pageLabelNode.innerHTML=_9.substitute(this.plugin._nls[13],[this.pageCount]);},showDialog:function(){this._updatePageCount();this._gotoPageDialog.show();},destroy:function(){this._gotoPageDialog.destroy();}});var _1c=_2("dojox.grid.enhanced.plugins._ForcedPageStoreLayer",_e._StoreLayer,{tags:["presentation"],constructor:function(_1d){this._plugin=_1d;},_fetch:function(_1e){var _1f=this,_20=_1f._plugin,_21=_20.grid,_22=_1e.scope||_1.global,_23=_1e.onBegin;_1e.start=(_20._currentPage-1)*_20._currentPageSize+_1e.start;_1f.startIdx=_1e.start;_1f.endIdx=_1e.start+_20._currentPageSize-1;var p=_20._paginator;if(!_20._showAll){_20._showAll=!p.sizeSwitch&&!p.pageStepper&&!p.gotoButton;}if(_23&&_20._showAll){_1e.onBegin=function(_24,req){_20._maxSize=_20._currentPageSize=_24;_1f.startIdx=0;_1f.endIdx=_24-1;_20._paginator._update();req.onBegin=_23;req.onBegin.call(_22,_24,req);};}else{if(_23){_1e.onBegin=function(_25,req){req.start=0;req.count=_20._currentPageSize;_20._maxSize=_25;_1f.endIdx=_1f.endIdx>=_25?(_25-1):_1f.endIdx;if(_1f.startIdx>_25&&_25!==0){_21._pending_requests[req.start]=false;_20.firstPage();}_20._paginator._update();req.onBegin=_23;req.onBegin.call(_22,Math.min(_20._currentPageSize,(_25-_1f.startIdx)),req);};}}return _5.hitch(this._store,this._originFetch)(_1e);}});var _19=function(evt){try{_7.stop(evt);}catch(e){}};var _26=_2("dojox.grid.enhanced.plugins.pagination._Focus",null,{_focusedNode:null,_isFocused:false,constructor:function(_27){this._pager=_27;var _28=_27.plugin.grid.focus;_27.plugin.connect(_27,"onSwitchPageSize",_5.hitch(this,"_onActive"));_27.plugin.connect(_27,"onPageStep",_5.hitch(this,"_onActive"));_27.plugin.connect(_27,"onShowGotoPageDialog",_5.hitch(this,"_onActive"));_27.plugin.connect(_27,"_update",_5.hitch(this,"_moveFocus"));},_onFocus:function(evt,_29){var _2a,_2b;if(!this._isFocused){_2a=this._focusedNode||_8("[tabindex]",this._pager.domNode)[0];}else{if(_29&&this._focusedNode){var dir=_29>0?-1:1,_2c=parseInt(this._focusedNode.getAttribute("tabindex"),10)+dir;while(_2c>=-3&&_2c<0){_2a=_8("[tabindex="+_2c+"]",this._pager.domNode)[0];if(_2a){break;}else{_2c+=dir;}}}}return this._focus(_2a,evt);},_onBlur:function(evt,_2d){if(!_2d||!this._focusedNode){this._isFocused=false;if(this._focusedNode&&_6.hasClass(this._focusedNode,"dojoxGridButtonFocus")){_6.removeClass(this._focusedNode,"dojoxGridButtonFocus");}return true;}var _2e,dir=_2d>0?-1:1,_2f=parseInt(this._focusedNode.getAttribute("tabindex"),10)+dir;while(_2f>=-3&&_2f<0){_2e=_8("[tabindex="+_2f+"]",this._pager.domNode)[0];if(_2e){break;}else{_2f+=dir;}}if(!_2e){this._isFocused=false;if(_6.hasClass(this._focusedNode,"dojoxGridButtonFocus")){_6.removeClass(this._focusedNode,"dojoxGridButtonFocus");}}return _2e?false:true;},_onMove:function(_30,_31,evt){if(this._focusedNode){var _32=this._focusedNode.getAttribute("tabindex"),_33=_31==1?"nextSibling":"previousSibling",_34=this._focusedNode[_33];while(_34){if(_34.getAttribute("tabindex")==_32){this._focus(_34);break;}_34=_34[_33];}}},_focus:function(_35,evt){if(_35){this._isFocused=true;if(_1.isIE&&this._focusedNode){_6.removeClass(this._focusedNode,"dojoxGridButtonFocus");}this._focusedNode=_35;_35.focus();if(_1.isIE){_6.addClass(_35,"dojoxGridButtonFocus");}_19(evt);return true;}return false;},_onActive:function(e){this._focusedNode=e.target;if(!this._isFocused){this._pager.plugin.grid.focus.focusArea("pagination"+this._pager.position);}},_moveFocus:function(){if(this._focusedNode&&!this._focusedNode.getAttribute("tabindex")){var _36=this._focusedNode.nextSibling;while(_36){if(_36.getAttribute("tabindex")){this._focus(_36);return;}_36=_36.nextSibling;}var _37=this._focusedNode.previousSibling;while(_37){if(_37.getAttribute("tabindex")){this._focus(_37);return;}_37=_37.previousSibling;}this._focusedNode=null;this._onBlur();}else{if(_1.isIE&&this._focusedNode){_6.addClass(this._focusedNode,"dojoxGridButtonFocus");}}}});var _38=_2("dojox.grid.enhanced.plugins._Paginator",[_14,_15],{templateString:_c,constructor:function(_39){_5.mixin(this,_39);this.grid=this.plugin.grid;},postCreate:function(){this.inherited(arguments);var _3a=this,g=this.grid;this.plugin.connect(g,"_resize",_5.hitch(this,"_resetGridHeight"));this._originalResize=g.resize;g.resize=function(_3b,_3c){_3a._changeSize=_3b;_3a._resultSize=_3c;_3a._originalResize.apply(g,arguments);};this.focus=_26(this);this._placeSelf();},destroy:function(){this.inherited(arguments);this.grid.focus.removeArea("pagination"+this.position);if(this._gotoPageDialog){this._gotoPageDialog.destroy();}this.grid.resize=this._originalResize;},onSwitchPageSize:function(evt){},onPageStep:function(evt){},onShowGotoPageDialog:function(evt){},_update:function(){this._updateDescription();this._updatePageStepper();this._updateSizeSwitch();this._updateGotoButton();},_registerFocus:function(_3d){var _3e=this.grid.focus,_3f="pagination"+this.position,f=this.focus;_3e.addArea({name:_3f,onFocus:_5.hitch(this.focus,"_onFocus"),onBlur:_5.hitch(this.focus,"_onBlur"),onMove:_5.hitch(this.focus,"_onMove")});_3e.placeArea(_3f,_3d?"before":"after",_3d?"header":"content");},_placeSelf:function(){var g=this.grid,_40=this.position=="top";this.placeAt(_40?g.viewsHeaderNode:g.viewsNode,_40?"before":"after");this._registerFocus(_40);},_resetGridHeight:function(_41,_42){var g=this.grid;_41=_41||this._changeSize;_42=_42||this._resultSize;delete this._changeSize;delete this._resultSize;if(g._autoHeight){return;}var _43=g._getPadBorder().h;if(!this.plugin.gh){this.plugin.gh=_6.contentBox(g.domNode).h+2*_43;}if(_42){_41=_42;}if(_41){this.plugin.gh=_6.contentBox(g.domNode).h+2*_43;}var gh=this.plugin.gh,hh=g._getHeaderHeight(),ph=_6.marginBox(this.domNode).h;if(typeof g.autoHeight==="number"){var cgh=gh+ph-_43;_6.style(g.domNode,"height",cgh+"px");_6.style(g.viewsNode,"height",(cgh-ph-hh)+"px");this._styleMsgNode(hh,_6.marginBox(g.viewsNode).w,cgh-ph-hh);}else{var h=gh-ph-hh-_43;_6.style(g.viewsNode,"height",h+"px");var _44=_3.some(g.views.views,function(v){return v.hasHScrollbar();});_3.forEach(g.viewsNode.childNodes,function(c){_6.style(c,"height",h+"px");});_3.forEach(g.views.views,function(v){if(v.scrollboxNode){if(!v.hasHScrollbar()&&_44){_6.style(v.scrollboxNode,"height",(h-_17.getScrollbar().h)+"px");}else{_6.style(v.scrollboxNode,"height",h+"px");}}});this._styleMsgNode(hh,_6.marginBox(g.viewsNode).w,h);}},_styleMsgNode:function(top,_45,_46){var _47=this.grid.messagesNode;_6.style(_47,{"position":"absolute","top":top+"px","width":_45+"px","height":_46+"px","z-Index":"100"});},_updateDescription:function(){var s=this.plugin.forcePageStoreLayer,_48=this.plugin._maxSize,nls=this.plugin._nls,_49=function(){return _48<=0||_48==1?nls[5]:nls[4];};if(this.description&&this.descriptionDiv){this.descriptionDiv.innerHTML=_48>0?_9.substitute(nls[0],[_49(),_48,s.startIdx+1,s.endIdx+1]):"0 "+_49();}},_updateSizeSwitch:function(){_6.style(this.sizeSwitchTd,"display",this.sizeSwitch?"":"none");if(!this.sizeSwitch){return;}if(this.sizeSwitchTd.childNodes.length<1){this._createSizeSwitchNodes();}this._updateSwitchNodesStyle();},_createSizeSwitchNodes:function(){var _4a=null,nls=this.plugin._nls,_4=_5.hitch(this.plugin,"connect");_3.forEach(this.pageSizes,function(_4b){var _4c=isFinite(_4b)?_9.substitute(nls[2],[_4b]):nls[1],_4d=isFinite(_4b)?_4b:nls[16];_4a=_6.create("span",{innerHTML:_4d,title:_4c,value:_4b,tabindex:"-1"},this.sizeSwitchTd,"last");_4a.setAttribute("aria-label",_4c);_4(_4a,"onclick",_5.hitch(this,"_onSwitchPageSize"));_4(_4a,"onkeydown",_5.hitch(this,"_onSwitchPageSize"));_4(_4a,"onmouseover",function(e){_6.addClass(e.target,"dojoxGridPageTextHover");});_4(_4a,"onmouseout",function(e){_6.removeClass(e.target,"dojoxGridPageTextHover");});_4a=_6.create("span",{innerHTML:"|"},this.sizeSwitchTd,"last");_6.addClass(_4a,"dojoxGridSeparator");},this);_6.destroy(_4a);},_updateSwitchNodesStyle:function(){var _4e=null;var _4f=function(_50,_51){if(_51){_6.addClass(_50,"dojoxGridActivedSwitch");_6.removeAttr(_50,"tabindex");}else{_6.addClass(_50,"dojoxGridInactiveSwitch");_50.setAttribute("tabindex","-1");}};_3.forEach(this.sizeSwitchTd.childNodes,function(_52){if(_52.value){_6.removeClass(_52);_4e=_52.value;if(this.plugin._showAll){_4f(_52,isNaN(parseInt(_4e,10)));}else{_4f(_52,this.plugin._currentPageSize==_4e);}}},this);},_updatePageStepper:function(){_6.style(this.pageStepperTd,"display",this.pageStepper?"":"none");if(!this.pageStepper){return;}if(this.pageStepperDiv.childNodes.length<1){this._createPageStepNodes();this._createWardBtns();}else{this._resetPageStepNodes();}this._updatePageStepNodesStyle();},_createPageStepNodes:function(){var _53=this._getStartPage(),_54=this._getStepPageSize(),_55="",_56=null,i=_53,_4=_5.hitch(this.plugin,"connect");for(;i<_53+this.maxPageStep+1;i++){_55=_9.substitute(this.plugin._nls[3],[i]);_56=_6.create("div",{innerHTML:i,value:i,title:_55},this.pageStepperDiv,"last");_56.setAttribute("aria-label",_55);_4(_56,"onclick",_5.hitch(this,"_onPageStep"));_4(_56,"onkeydown",_5.hitch(this,"_onPageStep"));_4(_56,"onmouseover",function(e){_6.addClass(e.target,"dojoxGridPageTextHover");});_4(_56,"onmouseout",function(e){_6.removeClass(e.target,"dojoxGridPageTextHover");});_6.style(_56,"display",i<_53+_54?"":"none");}},_createWardBtns:function(){var _57=this,nls=this.plugin._nls;var _58={prevPage:"&#60;",firstPage:"&#171;",nextPage:"&#62;",lastPage:"&#187;"};var _59=function(_5a,_5b,_5c){var _5d=_6.create("div",{value:_5a,title:_5b,tabindex:"-2"},_57.pageStepperDiv,_5c);_57.plugin.connect(_5d,"onclick",_5.hitch(_57,"_onPageStep"));_57.plugin.connect(_5d,"onkeydown",_5.hitch(_57,"_onPageStep"));_5d.setAttribute("aria-label",_5b);var _5e=_6.create("span",{value:_5a,title:_5b,innerHTML:_58[_5a]},_5d,_5c);_6.addClass(_5e,"dojoxGridWardButtonInner");};_59("prevPage",nls[6],"first");_59("firstPage",nls[7],"first");_59("nextPage",nls[8],"last");_59("lastPage",nls[9],"last");},_resetPageStepNodes:function(){var _5f=this._getStartPage(),_60=this._getStepPageSize(),_61=this.pageStepperDiv.childNodes,_62=null,i=_5f,j=2,tip;for(;j<_61.length-2;j++,i++){_62=_61[j];if(i<_5f+_60){tip=_9.substitute(this.plugin._nls[3],[i]);_6.attr(_62,{"innerHTML":i,"title":tip,"value":i});_6.style(_62,"display","");_62.setAttribute("aria-label",tip);}else{_6.style(_62,"display","none");}}},_updatePageStepNodesStyle:function(){var _63=null,_64=this.plugin.currentPage(),_65=this.plugin.getTotalPageNum();var _66=function(_67,_68,_69){var _6a=_67.value,_6b=_68?"dojoxGrid"+_6a+"Btn":"dojoxGridInactived",_6c=_68?"dojoxGrid"+_6a+"BtnDisable":"dojoxGridActived";if(_69){_6.addClass(_67,_6c);_6.removeAttr(_67,"tabindex");}else{_6.addClass(_67,_6b);_67.setAttribute("tabindex","-2");}};_3.forEach(this.pageStepperDiv.childNodes,function(_6d){_6.removeClass(_6d);if(isNaN(parseInt(_6d.value,10))){_6.addClass(_6d,"dojoxGridWardButton");var _6e=_6d.value=="prevPage"||_6d.value=="firstPage"?1:_65;_66(_6d,true,(_64===_6e));}else{_63=parseInt(_6d.value,10);_66(_6d,false,(_63===_64||_6.style(_6d,"display")==="none"));}},this);},_showGotoButton:function(_6f){this.gotoButton=_6f;this._updateGotoButton();},_updateGotoButton:function(){if(!this.gotoButton){if(this._gotoPageDialog){this._gotoPageDialog.destroy();}_6.removeAttr(this.gotoPageDiv,"tabindex");_6.style(this.gotoPageTd,"display","none");return;}if(_6.style(this.gotoPageTd,"display")=="none"){_6.style(this.gotoPageTd,"display","");}this.gotoPageDiv.setAttribute("title",this.plugin._nls[10]);_6.toggleClass(this.gotoPageDiv,"dojoxGridPaginatorGotoDivDisabled",this.plugin.getTotalPageNum()<=1);if(this.plugin.getTotalPageNum()<=1){_6.removeAttr(this.gotoPageDiv,"tabindex");}else{this.gotoPageDiv.setAttribute("tabindex","-3");}},_openGotopageDialog:function(e){if(this.plugin.getTotalPageNum()<=1){return;}if(e.type==="keydown"&&e.keyCode!==_b.ENTER&&e.keyCode!==_b.SPACE){return;}if(!this._gotoPageDialog){this._gotoPageDialog=new _1a(this.plugin);}this._gotoPageDialog.showDialog();this.onShowGotoPageDialog(e);},_onSwitchPageSize:function(e){if(e.type==="keydown"&&e.keyCode!==_b.ENTER&&e.keyCode!==_b.SPACE){return;}this.onSwitchPageSize(e);this.plugin.currentPageSize(e.target.value);},_onPageStep:function(e){if(e.type==="keydown"&&e.keyCode!==_b.ENTER&&e.keyCode!==_b.SPACE){return;}var p=this.plugin,_70=e.target.value;this.onPageStep(e);if(!isNaN(parseInt(_70,10))){p.currentPage(parseInt(_70,10));}else{p[_70]();}},_getStartPage:function(){var cp=this.plugin.currentPage(),ms=this.maxPageStep,hs=parseInt(ms/2,10),tp=this.plugin.getTotalPageNum();if(cp<hs||(cp-hs)<1||tp<=ms){return 1;}else{return tp-cp<hs&&cp-ms>=0?tp-ms+1:cp-hs;}},_getStepPageSize:function(){var sp=this._getStartPage(),tp=this.plugin.getTotalPageNum(),ms=this.maxPageStep;return sp+ms>tp?tp-sp+1:ms;}});var _71=_2("dojox.grid.enhanced.plugins.Pagination",_f,{name:"pagination",defaultPageSize:25,defaultPage:1,description:true,sizeSwitch:true,pageStepper:true,gotoButton:false,pageSizes:[10,25,50,100,Infinity],maxPageStep:7,position:"bottom",init:function(){var g=this.grid;g.usingPagination=true;this._initOptions();this._currentPage=this.defaultPage;this._currentPageSize=this.grid.rowsPerPage=this.defaultPageSize;this._store=g.store;this.forcePageStoreLayer=new _1c(this);_e.wrap(g,"_storeLayerFetch",this.forcePageStoreLayer);this._paginator=this.option.position!="top"?new _38(_5.mixin(this.option,{position:"bottom",plugin:this})):new _38(_5.mixin(this.option,{position:"top",plugin:this}));this._regApis();},destroy:function(){this.inherited(arguments);this._paginator.destroy();var g=this.grid;g.unwrap(this.forcePageStoreLayer.name());g.scrollToRow=this._gridOriginalfuncs[0];g._onNew=this._gridOriginalfuncs[1];g.removeSelectedRows=this._gridOriginalfuncs[2];this._paginator=null;this._nls=null;},currentPage:function(_72){if(_72<=this.getTotalPageNum()&&_72>0&&this._currentPage!==_72){this._currentPage=_72;this.grid._refresh(true);this.grid.resize();}return this._currentPage;},nextPage:function(){this.currentPage(this._currentPage+1);},prevPage:function(){this.currentPage(this._currentPage-1);},firstPage:function(){this.currentPage(1);},lastPage:function(){this.currentPage(this.getTotalPageNum());},currentPageSize:function(_73){if(!isNaN(_73)){var g=this.grid,_74=this._currentPageSize*(this._currentPage-1),_75;this._showAll=!isFinite(_73);this.grid.usingPagination=!this._showAll;this._currentPageSize=this._showAll?this._maxSize:_73;g.rowsPerPage=this._showAll?this._defaultRowsPerPage:_73;_75=_74+Math.min(this._currentPageSize,this._maxSize);if(_75>this._maxSize){this.lastPage();}else{var cp=Math.ceil(_74/this._currentPageSize)+1;if(cp!==this._currentPage){this.currentPage(cp);}else{this.grid._refresh(true);}}this.grid.resize();}return this._currentPageSize;},getTotalPageNum:function(){return Math.ceil(this._maxSize/this._currentPageSize);},getTotalRowCount:function(){return this._maxSize;},scrollToRow:function(_76){var _77=parseInt(_76/this._currentPageSize,10)+1;if(_77>this.getTotalPageNum()){return;}this.currentPage(_77);var _78=_76%this._currentPageSize;return this._gridOriginalfuncs[0](_78);},removeSelectedRows:function(){this._multiRemoving=true;this._gridOriginalfuncs[2].apply();this._multiRemoving=false;if(this.grid.store.save){this.grid.store.save();}this.grid.resize();this.grid._refresh();},showGotoPageButton:function(_79){this._paginator.gotoButton=_79;this._paginator._updateGotoButton();},gotoPage:function(_7a){_1.deprecated("dojox.grid.enhanced.EnhancedGrid.gotoPage(page)","use dojox.grid.enhanced.EnhancedGrid.currentPage(page) instead","1.8");this.currentPage(_7a);},gotoFirstPage:function(){_1.deprecated("dojox.grid.enhanced.EnhancedGrid.gotoFirstPage()","use dojox.grid.enhanced.EnhancedGrid.firstPage() instead","1.8");this.firstPage();},gotoLastPage:function(){_1.deprecated("dojox.grid.enhanced.EnhancedGrid.gotoLastPage()","use dojox.grid.enhanced.EnhancedGrid.lastPage() instead","1.8");this.lastPage();},changePageSize:function(_7b){_1.deprecated("dojox.grid.enhanced.EnhancedGrid.changePageSize(size)","use dojox.grid.enhanced.EnhancedGrid.currentPageSize(size) instead","1.8");this.currentPageSize(_7b);},_nls:null,_showAll:false,_maxSize:0,_defaultRowsPerPage:25,_currentPage:1,_currentPageSize:25,_initOptions:function(){this._defaultRowsPerPage=this.grid.rowsPerPage||25;this.defaultPage=this.option.defaultPage>=1?parseInt(this.option.defaultPage,10):1;this.option.description=this.option.description!==undefined?!!this.option.description:this.description;this.option.sizeSwitch=this.option.sizeSwitch!==undefined?!!this.option.sizeSwitch:this.sizeSwitch;this.option.pageStepper=this.option.pageStepper!==undefined?!!this.option.pageStepper:this.pageStepper;this.option.gotoButton=this.option.gotoButton!==undefined?!!this.option.gotoButton:this.gotoButton;if(_5.isArray(this.option.pageSizes)){var _7c=[];_3.forEach(this.option.pageSizes,function(_7d){_7d=typeof _7d=="number"?_7d:parseInt(_7d,10);if(!isNaN(_7d)&&_7d>0){_7c.push(_7d);}else{if(_3.indexOf(_7c,Infinity)<0){_7c.push(Infinity);}}},this);this.option.pageSizes=_7c.sort(function(a,b){return a-b;});}else{this.option.pageSizes=this.pageSizes;}this.defaultPageSize=this.option.defaultPageSize>=1?parseInt(this.option.defaultPageSize,10):this.pageSizes[0];this.option.maxPageStep=this.option.maxPageStep>0?this.option.maxPageStep:this.maxPageStep;this.option.position=_5.isString(this.option.position)?this.option.position.toLowerCase():this.position;var nls=_a.getLocalization("dojox.grid.enhanced","Pagination");this._nls=[nls.descTemplate,nls.allItemsLabelTemplate,nls.pageSizeLabelTemplate,nls.pageStepLabelTemplate,nls.itemTitle,nls.singularItemTitle,nls.prevTip,nls.firstTip,nls.nextTip,nls.lastTip,nls.gotoButtonTitle,nls.dialogTitle,nls.dialogIndication,nls.pageCountIndication,nls.dialogConfirm,nls.dialogCancel,nls.all];},_regApis:function(){var g=this.grid;g.currentPage=_5.hitch(this,this.currentPage);g.nextPage=_5.hitch(this,this.nextPage);g.prevPage=_5.hitch(this,this.prevPage);g.firstPage=_5.hitch(this,this.firstPage);g.lastPage=_5.hitch(this,this.lastPage);g.currentPageSize=_5.hitch(this,this.currentPageSize);g.showGotoPageButton=_5.hitch(this,this.showGotoPageButton);g.getTotalRowCount=_5.hitch(this,this.getTotalRowCount);g.getTotalPageNum=_5.hitch(this,this.getTotalPageNum);g.gotoPage=_5.hitch(this,this.gotoPage);g.gotoFirstPage=_5.hitch(this,this.gotoFirstPage);g.gotoLastPage=_5.hitch(this,this.gotoLastPage);g.changePageSize=_5.hitch(this,this.changePageSize);this._gridOriginalfuncs=[_5.hitch(g,g.scrollToRow),_5.hitch(g,g._onNew),_5.hitch(g,g.removeSelectedRows)];g.scrollToRow=_5.hitch(this,this.scrollToRow);g.removeSelectedRows=_5.hitch(this,this.removeSelectedRows);g._onNew=_5.hitch(this,this._onNew);this.connect(g,"_onDelete",_5.hitch(this,this._onDelete));},_onNew:function(_7e,_7f){var _80=this.getTotalPageNum();if(((this._currentPage===_80||_80===0)&&this.grid.get("rowCount")<this._currentPageSize)||this._showAll){_5.hitch(this.grid,this._gridOriginalfuncs[1])(_7e,_7f);this.forcePageStoreLayer.endIdx++;}this._maxSize++;if(this._showAll){this._currentPageSize++;}if(this._showAll&&this.grid.autoHeight){this.grid._refresh();}else{this._paginator._update();}},_onDelete:function(){if(!this._multiRemoving){this.grid.resize();if(this._showAll){this.grid._refresh();}}if(this.grid.get("rowCount")===0){this.prevPage();}}});_10.registerPlugin(_71);return _71;});