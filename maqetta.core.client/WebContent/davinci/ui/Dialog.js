define([	"dojo/_base/declare",	"dijit/_Widget",	"dijit/_Templated",	"dijit/Dialog",	"dojo/text!./templates/Dialog.html",  "dojo/i18n!davinci/ve/nls/ve",  "dojox/layout/ResizeHandle"], function(declare, _Widget, _Templated, Dialog, dialogTemplateString, veNLS) {	/* base class to draw the dialog contents*/	var _DialogUI = declare("davinci.ve.widgets._DialogUI", [_Widget, _Templated], {		templateString: dialogTemplateString,		widgetsInTemplate: true,		// attach points		resizeHandle: null,		contentArea: null,		actionArea: null,		// props		buttons: null,		width: null,		height: null,		resizeTarget: null,		postCreate: function() {			this.inherited(arguments);			this.resize({w: this.width, h: this.height});			this.resizeHandle.attr("targetId", this.resizeTarget);		},		resize: function(coords) {			if (coords && coords.w && coords.h) {				console.log("coords", coords)				dojo.style(this.contentArea, "width", coords.w+"px");				dojo.style(this.contentArea, "height", this._calculateContentHeight(coords.h)+"px");			} else {				console.log("coords2", this.width, this._calculateContentHeight(this.height))				dojo.style(this.contentArea, "width", this.width+"px");				dojo.style(this.contentArea, "height", this._calculateContentHeight(this.height)+"px");			}		},		_calculateContentHeight: function(totalHeight) {			var h = totalHeight;			// 20 is the padding in the content area			h -= dojo.marginBox(this.actionArea).h+20;			return h;		}	});return declare("davinci.ve.widgets.Dialog", Dialog, {	// props	buttons: null,	height: 200,	width: 200,		postCreate: function() {		this.inherited(arguments);		// append to containerNode		var div = dojo.doc.createElement("div");		this.containerNode.appendChild(div);		// titlebar is hidden and has no height right now, so for now hack abnd store it off		var titleBarHeight = 16;		this.dialogUI = new _DialogUI({buttons: this.buttons, height: this.height-titleBarHeight, width: this.width-16, resizeTarget: this.id}, div);	},	resize: function(coords) {		var titleBarHeight = dojo.marginBox(this.titleBar).h;		// 16 is the padding in the containerNode, should calculate this		if (coords) {			var c = {w: coords.w-16, h: coords.h}			c.h -= dojo.marginBox(this.titleBar).h;			this.dialogUI.resize(c);		} else {			this.dialogUI.resize({w: this.width-16, h: this.height-titleBarHeight});							}	}});});