<!DOCTYPE html>
<html>
<head>


    <link id="themeStyles" rel="stylesheet" href="dijit/themes/claro/claro.css"/>

    <script type="text/javascript" src="dojo/dojo.js"
        data-dojo-config="parseOnLoad: true, isDebug: true, ioPublish:true"></script>

    <script type="text/javascript">
        //dojo.require("dijit.dijit"); // optimize: load dijit layer
        dojo.require("dijit.form.Button");

        function sendText(){
              var button = dijit.byId("submitButton2");
              dojo.subscribe('/dojo/io/error',function(d,r){debugger;});
              dojo.subscribe('/dojo/io/done',function(d,r){console.log('/dojo/io/done');});
              dojo.connect(button, "onClick", function(event){
                // The parameters to pass to xhrPut, the message, and the url to send it to
                // Also, how to handle the return and callbacks.
                var xhrArgs = {
                  url: "putIt",
                  putData: "Some random text",
                  handleAs: "text",
                  load: function(data){
                    dojo.byId("response2").innerHTML = "Message put.";
                  },
                  error: function(error){
                    // We'll 404 in the demo, but that's okay.  We don't have a 'putIt' service on the
                    // docs server.
                    dojo.byId("response2").innerHTML = "Message put.";
                  }
                }
                dojo.byId("response2").innerHTML = "Message being sent..."
                // Call the asynchronous xhrPost
                var deferred = dojo.xhrPut(xhrArgs);
              });
            }


            function get(){
                  // Look up the node we'll stick the text under.
                  var targetNode = dojo.byId("licenseContainer");

                  // The parameters to pass to xhrGet, the url, how to handle it, and the callbacks.
                  var xhrArgs = {
                   // url: "http://dojotoolkit.org/reference-guide/1.7/_static/js/dojo/LICENSE",
                    url: "file:///C:/workspace_helious_64/all/dijit/tests/form/mytabs.html",
                    handleAs: "text",
                    load: function(data){
                      console.log(data);
                    },
                    error: function(error){
                      targetNode.innerHTML = "An unexpected error occurred: " + error;
                    }
                  }

                  // Call the asynchronous xhrGet
                  var deferred = dojo.xhrGet(xhrArgs);
            }

            dojo.ready(sendText);

    </script>
</head>
<body class="claro">
<b>Push the button to PUT some text.</b>
<br>
<br>
<button data-dojo-type="dijit.form.Button" id="submitButton2">Send it!</button>
<br>
<br>
<b>Result</b>
<div id="response2"></div>
<button data-dojo-type="dijit.form.Button" id="submitButtonx" onclick="get">Get it!</button>
<b>The Dojo License:</b>
<div id="licenseContainer" style="height: 200px;"></div>
</body>
</html>
